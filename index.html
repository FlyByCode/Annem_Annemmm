<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mutlu Yıllar Anne 🎂</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    
    :root {
      --primary: #ff6b9d;
      --secondary: #c44569;
      --accent: #f8b500;
      --bg-primary: #000000;
      --bg-secondary: #1a1a1a;
      --bg-card: rgba(255, 255, 255, 0.05);
      --text-primary: #ffffff;
      --text-secondary: #cccccc;
      --glass: rgba(255, 255, 255, 0.05);
      --shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      background: linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #000000 100%);
      color: var(--text-primary);
      overflow-x: hidden;
    }

    /* Animated background particles */
    .bg-particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: -1;
    }

    .particle {
      position: absolute;
      width: 3px;
      height: 3px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      animation: float 6s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.3; }
      50% { transform: translateY(-20px) rotate(180deg); opacity: 1; }
    }

    /* Glass morphism container */
    .container {
      min-height: 100vh;
      padding: 20px;
      backdrop-filter: blur(20px);
      background: rgba(0, 0, 0, 0.2);
    }

    .main-wrapper {
      max-width: 1200px;
      margin: 0 auto;
    }

    /* Header with glass effect */
    .header {
      background: var(--glass);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 24px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: var(--shadow);
      text-align: center;
    }

    .logo {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      margin: 0 auto 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      font-weight: 700;
      box-shadow: 0 10px 30px rgba(255, 107, 157, 0.3);
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .main-title {
      font-size: 3rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 15px;
      text-shadow: 0 4px 20px rgba(255, 107, 157, 0.3);
    }

    .subtitle {
      color: var(--text-secondary);
      font-size: 1.2rem;
      font-weight: 300;
      max-width: 600px;
      margin: 0 auto;
      line-height: 1.6;
    }

    /* Grid layout */
    .content-grid {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 30px;
      margin-bottom: 30px;
    }

    .card {
      background: var(--glass);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 25px;
      box-shadow: var(--shadow);
      transition: all 0.3s ease;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.4);
    }

    .card-title {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 20px;
      color: var(--text-primary);
    }

    /* Photo slideshow */
    .slideshow {
      position: relative;
      height: 400px;
      border-radius: 16px;
      overflow: hidden;
      background: linear-gradient(135deg, #1e3c72, #2a5298);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .slideshow img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 16px;
      transition: transform 0.5s ease;
    }

    .slideshow img:hover {
      transform: scale(1.05);
    }

    .slide-controls {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 15px;
    }

    .slide-btn {
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      border: none;
      border-radius: 12px;
      padding: 12px 20px;
      color: white;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .slide-btn:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: translateY(-2px);
    }

    /* Video section */
    .video-container {
      margin-top: 25px;
    }

    .video-player {
      width: 100%;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    /* Sidebar cards */
    .sidebar {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    /* Countdown */
    .countdown-display {
      font-size: 2rem;
      font-weight: 700;
      text-align: center;
      padding: 20px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 16px;
      color: white;
      margin-bottom: 15px;
      box-shadow: 0 10px 30px rgba(255, 107, 157, 0.3);
    }

    /* Music player */
    .music-player {
      text-align: center;
    }

    .music-controls {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
    }

    .music-btn {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      color: white;
      font-size: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 8px 25px rgba(255, 107, 157, 0.3);
    }

    .music-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 12px 35px rgba(255, 107, 157, 0.4);
    }

    /* Letter button */
    .letter-btn {
      width: 100%;
      background: linear-gradient(135deg, var(--accent), #e55d87);
      border: none;
      border-radius: 16px;
      padding: 20px;
      color: white;
      font-size: 1.2rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 10px 30px rgba(248, 181, 0, 0.3);
    }

    .letter-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 40px rgba(248, 181, 0, 0.4);
    }

    /* Modal */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 20px;
    }

    .modal-content {
      background: var(--glass);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 24px;
      padding: 40px;
      max-width: 700px;
      width: 100%;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: var(--shadow);
      position: relative;
    }

    .modal-close {
      position: absolute;
      top: 20px;
      right: 30px;
      background: none;
      border: none;
      color: var(--text-secondary);
      font-size: 30px;
      cursor: pointer;
      transition: color 0.3s ease;
    }

    .modal-close:hover {
      color: var(--text-primary);
    }

    .letter-content {
      line-height: 1.8;
      font-size: 1.1rem;
      color: var(--text-secondary);
    }

    .letter-content h2 {
      color: var(--primary);
      margin-bottom: 25px;
      font-size: 2rem;
    }

    .letter-signature {
      margin-top: 30px;
      text-align: right;
      font-weight: 600;
      color: var(--primary);
      font-size: 1.3rem;
    }

    /* Confetti canvas */
    #confetti {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 999;
    }

    /* Balloons */
    .balloon {
      position: fixed;
      bottom: -120px;
      width: 60px;
      height: 80px;
      border-radius: 50% 50% 50% 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      z-index: 998;
      pointer-events: none;
    }

    .balloon::after {
      content: '';
      position: absolute;
      bottom: -15px;
      width: 2px;
      height: 15px;
      background: rgba(0, 0, 0, 0.3);
    }

    /* Hearts */
    .heart {
      position: fixed;
      pointer-events: none;
      font-size: 20px;
      transform: translate(-50%, -50%);
      z-index: 997;
    }

    /* No photos message */
    .no-photos {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100%;
      color: var(--text-secondary);
      text-align: center;
    }

    .no-photos-icon {
      font-size: 4rem;
      margin-bottom: 20px;
      opacity: 0.5;
    }

    /* Mobile responsiveness */
    @media (max-width: 768px) {
      .content-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }

      .main-title {
        font-size: 2rem;
      }

      .subtitle {
        font-size: 1rem;
      }

      .header {
        padding: 20px;
      }

      .card {
        padding: 20px;
      }

      .slideshow {
        height: 300px;
      }

      .countdown-display {
        font-size: 1.5rem;
        padding: 15px;
      }

      .modal-content {
        padding: 25px;
      }

      .slide-controls {
        flex-wrap: wrap;
        gap: 10px;
      }

      .slide-btn {
        padding: 10px 15px;
        font-size: 14px;
      }
    }

    @media (max-width: 480px) {
      .container {
        padding: 15px;
      }

      .main-title {
        font-size: 1.8rem;
      }

      .card-title {
        font-size: 1.3rem;
      }

      .slideshow {
        height: 250px;
      }
    }

    /* Music info */
    .music-info {
      margin-top: 15px;
      padding: 15px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      font-size: 14px;
      color: var(--text-secondary);
    }

    .music-info a {
      color: var(--primary);
      text-decoration: none;
    }

    .music-info a:hover {
      text-decoration: underline;
       /* Slider kapsayıcı */
        .slider {
          width: 100%;
          max-width: 800px;
          height: 500px;
          overflow: hidden;
          margin: auto;
        }

        /* Slider içindeki resimler */
        .slider img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }
    }
  </style>
</head>
<body>
  <!-- Animated background particles -->
  <div class="bg-particles" id="particles"></div>
  
  <!-- Confetti canvas -->
  <canvas id="confetti"></canvas>

  <div class="container">
    <div class="main-wrapper">
      <!-- Header -->
      <header class="header">
        <div class="logo">A❤</div>
        <h1 class="main-title">Doğum Günün Kutlu Olsun<br>Dünyanın En Güzel Annesi!</h1>
        <p class="subtitle">Bu sayfa tamamen sana özel hazırlandı. Her detayı seninle olan anılarımızla dolu. Seni çok seviyorum! 💕</p>
      </header>

      <!-- Main content grid -->
      <div class="content-grid">
        <!-- Left column -->
        <div class="main-content">
          <!-- Photo slideshow -->
          <div class="card">
            <h3 class="card-title">Özel Anlarımız</h3>
            <div class="slideshow" id="slideshow">
              <div class="no-photos">
                <div class="no-photos-icon">📸</div>
                <p>Fotoğrafları eklemek için slides dizisini doldurun</p>
                <p style="font-size: 12px; margin-top: 10px; opacity: 0.7;">
                  Örnek: slides[0] = 'foto1.jpg'
                </p>
              </div>
              <img id="slideImg" src="" alt="" style="display: none;" />
              <div class="slide-controls" style="display: none;" id="slideControls">
                <button class="slide-btn" id="prevBtn">◀ Önceki</button>
                <button class="slide-btn" id="playPause">▶ Oynat</button>
                <button class="slide-btn" id="nextBtn">Sonraki ▶</button>
              </div>
            </div>
          </div>

          <!-- Video section -->
          <div class="card">
            <h3 class="card-title">Özel Video Mesajın</h3>
            <div class="video-container">
              <!-- VİDEO EKLEMEYİ BURADAKİ source src="" SATIRINA EKLEYİN -->
              <video id="videoPlayer" class="video-player" controls style="display: none;">
                <!-- ↓↓↓ BURAYA VİDEO DOSYA YOLUNU EKLEYİN ↓↓↓ -->
                <source src="video1.mp4" type="video/mp4">
                <!-- Örnek: <source src="anne_video.mp4" type="video/mp4"> -->
                <!-- ↑↑↑ BURAYA VİDEO DOSYA YOLUNU EKLEYİN ↑↑↑ -->
                
              </video>
              <div class="no-photos" id="noVideo">
                <div class="no-photos-icon">🎥</div>
                <p>Video eklemek için yukarıdaki source src="" kısmını doldurun</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Right sidebar -->
        <div class="sidebar">
          <!-- Countdown -->
          <div class="card">
            <h3 class="card-title">Geri Sayım</h3>
            <div class="countdown-display" id="countdown">Yükleniyor...</div>
            <p style="color: var(--text-secondary); font-size: 14px; text-align: center;">
              Doğum gününe kalan süre
            </p>
          </div>

          <!-- Music player -->
          <div class="card">
            <h3 class="card-title">Anne İçin Müzik</h3>
            <div class="music-player">
              <div class="music-controls">
                <button class="music-btn" id="audioPlay" title="Anne Şarkısını Dinle">🎵</button>
                <button class="music-btn" id="synthPlay" title="Melodi Çal">🎶</button>
              </div>
              <div class="music-info">
                <p><strong>Özel Şarkı:</strong></p>
                <p>"Annem" - Tahir Eren Danış</p>
                <p style="margin-top: 8px; font-size: 12px; opacity: 0.8;">
                  🎵 YouTube'da dinle | 🎶 Tarayıcıda melodi çal
                </p>
              </div>
            </div>
          </div>

          <!-- Letter button -->
          <div class="card">
            <h3 class="card-title">Özel Mektubun</h3>
            <p style="color: var(--text-secondary); margin-bottom: 20px;">
              Kalbimden gelen sözleri okumak için tıkla...
            </p>
            <button class="letter-btn" id="openLetter">
              💌 Mektubu Oku
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal for letter -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <button class="modal-close" id="closeModal">×</button>
      <div class="letter-content">
        <h2>Sevgili Anneciğim,</h2>
        <p>
          Her şeyden önce, iyi ki varsın. Hayatımda varlığın; sıcak bir çay gibi huzur verici, 
          gecemde parlayan bir yıldız gibi yön gösterici ve en zor anlarımda elimi tutan en sağlam 
          liman oldu. Seninle paylaştığımız küçük anılarda, öğrettiğin sabırlı sözlerde ve 
          gülüşündeki o içtenlikte hayatın gerçek anlamını buldum.
        </p>
        <p>
          Seni tanıdıkça öğrendim ki fedakârlık sadece bir kelime değil; senin kelimen. 
          Gece lambası söndüğünde bile evin düzeni, ailemizin sıcaklığı için yaptığın küçük 
          detaylar her zaman gözümün önünde. Bir çocuğun gözünden bakan bir anne olarak, 
          senin yaptığın o binlerce küçük iyiliği not ettim; şimdi her birini şükranla hatırlıyorum.
        </p>
        <p>
          Anılarımızın içinde her zaman birlikte güldüğümüz sabah kahkahaları, bazen beraber 
          ağladığımız ama en önemlisi birbirimize sarıldığımız anlardır. Bana gösterdiğin sevgi, 
          dünyanın en kıymetli hocası oldun; bana doğruluğu, çalışmayı ve merhameti öğrettin. 
          Sana bakınca kendimi daha cesur hissediyorum — çünkü senin varlığın bana güç veriyor.
        </p>
        <p>
          Bugün, senin günün. Sana sadece güzel dilekler değil; aynı zamanda söz veriyorum: 
          öğrendiklerimi kullanacak, senin öğretilerini yaşatacak ve bir gün seninle gurur 
          duyacağın bir insan olacağım. Belki kelimeler hissettiklerimi tam anlatmaya yetmez 
          ama bilmeni isterim ki kalbimde hep özel bir yerin var.
        </p>
        <p>
          İyi ki doğdun, iyi ki benim annemsin. Bugün ve daima yanında olacağım. Seninle 
          paylaştığım her an için minnettarım. Bu küçük sürpriz sayfa, seni ne kadar çok 
          sevdiğimi göstermek için yaptığım bir şey. Umarım okurken yüzünde bir tebessüm 
          belirir ve kalbin sevgiyle dolar.
        </p>
        <h2>Tarık Erdem </h2>
        <p> anne seni çok seviyorum doğum günün kutlu olsun en küçük evladından  </p>
        <h2>Ahmet Kerem </h2>
        <p> Canım annem seni çok seviyorum doğum günün kutlu olsun nice yıllara seni çok seviyorum ortanca evladından  </p>
          Seninle geçirdiğim her an, hayatımın en değerli anları. Seninle birlikte büyümek, 
          seninle gülmek ve seninle ağlamak benim için en büyük hediye.
        <p><strong>Seni çok, çok seviyorum.</strong></p>
        <div class="letter-signature">
          ❤️ Hep senin evladın, Tahir
        </div>
      </div>
    </div>
  </div>

  <script>
    // Birthday date configuration - Yarın saat 00:00
    const BIRTHDAY_DATE = '2025-08-13';

    // Photo slides array - BURAYA FOTOĞRAFLARI EKLEYİN!

    const slides = [
      'annemm1.jpg',
      'annemm2.jpg',
      'annemm3.jpg',     
      'annemmm4.jpg',
      'annemm5.jpg',
      'annem6.jpg',
      'annemm7.jpg',
    ];

    // Initialize everything when page loads
    document.addEventListener('DOMContentLoaded', function() {
      createParticles();
      initSlideshow();
      initModal();
      initAudioControls();
      updateCountdown();
      setInterval(updateCountdown, 1000);
      
      // Initial confetti burst
      setTimeout(() => {
        createConfettiBurst(window.innerWidth / 2, 200);
      }, 1000);
    });

    // Create animated background particles
    function createParticles() {
      const particles = document.getElementById('particles');
      for (let i = 0; i < 50; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.top = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 6 + 's';
        particles.appendChild(particle);
      }
    }

    // Slideshow management
    let currentSlide = 0;
    let isPlaying = false;
    let slideTimer = null;

    function initSlideshow() {
      const slideImg = document.getElementById('slideImg');
      const slideControls = document.getElementById('slideControls');
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      const playPause = document.getElementById('playPause');

      // FOTOĞRAF VARSA slideshow'u aktif et
      if (slides.length > 0 && slides[0] !== '') {
        slideImg.style.display = 'block';
        slideControls.style.display = 'flex';
        document.querySelector('.no-photos').style.display = 'none';
        showSlide(0);

        prevBtn.addEventListener('click', () => showSlide(currentSlide - 1));
        nextBtn.addEventListener('click', () => showSlide(currentSlide + 1));
        playPause.addEventListener('click', toggleSlideshow);
      }
      
      // VİDEO VARSA video player'ı aktif et
      const videoPlayer = document.getElementById('videoPlayer');
      const videoSource = videoPlayer.querySelector('source');
      if (videoSource.src && videoSource.src !== '') {
        videoPlayer.style.display = 'block';
        document.getElementById('noVideo').style.display = 'none';
      }
    }

    function showSlide(index) {
      if (slides.length === 0) return;
      
      currentSlide = (index + slides.length) % slides.length;
      document.getElementById('slideImg').src = slides[currentSlide];
    }

    function toggleSlideshow() {
      const playBtn = document.getElementById('playPause');
      if (!isPlaying) {
        isPlaying = true;
        playBtn.textContent = '⏸ Durdur';
        slideTimer = setInterval(() => showSlide(currentSlide + 1), 4000);
      } else {
        isPlaying = false;
        playBtn.textContent = '▶ Oynat';
        clearInterval(slideTimer);
      }
    }

    // Modal management
    function initModal() {
      const modal = document.getElementById('modal');
      const openBtn = document.getElementById('openLetter');
      const closeBtn = document.getElementById('closeModal');

      openBtn.addEventListener('click', () => {
        modal.style.display = 'flex';
      });

      closeBtn.addEventListener('click', () => {
        modal.style.display = 'none';
      });

      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          modal.style.display = 'none';
        }
      });
    }

    // Audio controls
    function initAudioControls() {
      const audioPlayBtn = document.getElementById('audioPlay');
      const synthPlayBtn = document.getElementById('synthPlay');

      // YouTube link button - Anne şarkısı
      audioPlayBtn.addEventListener('click', () => {
        window.open('https://www.youtube.com/watch?v=J5YXWGEt1XI', '_blank');
      });

      // Synthetic melody button
      synthPlayBtn.addEventListener('click', () => {
        playSynthMelody();
      });
    }

    // Countdown timer - Yarın 00:00'a ayarlı
    function updateCountdown() {
      const now = new Date();
      
      // Yarın saat 00:00 için target date
      const tomorrow = new Date();
      tomorrow.setDate(tomorrow.getDate() + 1);
      tomorrow.setHours(0, 0, 0, 0);
      
      const diff = tomorrow - now;
      
      if (diff <= 0) {
        document.getElementById('countdown').textContent = 'Doğum Günün Kutlu Olsun! 🎉';
        startCelebration();
        return;
      }
      
      const hours = Math.floor(diff / (1000 * 60 * 60));
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);
      
      document.getElementById('countdown').textContent = 
        `${hours}s ${minutes}dk ${seconds}sn`;
      
      // Start celebration at exactly midnight
      if (hours === 0 && minutes === 0 && seconds <= 1) {
        startCelebration();
      }
    }

    // Celebration functions
    let celebrationStarted = false;

    function startCelebration() {
      if (celebrationStarted) return;
      celebrationStarted = true;
      
      createConfettiBurst(window.innerWidth / 2, 100);
      launchBalloons(20);
      
      // Otomatik olarak YouTube'da şarkıyı aç
      window.open('https://www.youtube.com/watch?v=J5YXWGEt1XI', '_blank');
    }

    // Confetti animation
    const confettiCanvas = document.getElementById('confetti');
    const ctx = confettiCanvas.getContext('2d');

    function resizeCanvas() {
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
    }

    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    function createConfettiBurst(x, y) {
      const pieces = [];
      const colors = ['#ff6b9d', '#c44569', '#f8b500', '#6c5ce7', '#a29bfe', '#fd79a8'];
      
      for (let i = 0; i < 100; i++) {
        pieces.push({
          x: x,
          y: y,
          vx: (Math.random() - 0.5) * 10,
          vy: Math.random() * -15 - 5,
          size: Math.random() * 8 + 4,
          color: colors[Math.floor(Math.random() * colors.length)],
          rotation: Math.random() * 360,
          rotationSpeed: (Math.random() - 0.5) * 10
        });
      }

      let animationTime = 0;
      const animate = setInterval(() => {
        ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
        
        for (let piece of pieces) {
          piece.vy += 0.5; // gravity
          piece.x += piece.vx;
          piece.y += piece.vy;
          piece.rotation += piece.rotationSpeed;
          
          ctx.save();
          ctx.translate(piece.x, piece.y);
          ctx.rotate(piece.rotation * Math.PI / 180);
          ctx.fillStyle = piece.color;
          ctx.fillRect(-piece.size / 2, -piece.size / 2, piece.size, piece.size);
          ctx.restore();
        }
        
        animationTime += 16;
        if (animationTime > 5000) {
          clearInterval(animate);
          ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
        }
      }, 16);
    }

    // Balloon animation
    function launchBalloons(count = 15) {
      const colors = ['#ff6b9d', '#c44569', '#f8b500', '#6c5ce7', '#a29bfe', '#fd79a8'];
      
      for (let i = 0; i < count; i++) {
        const balloon = document.createElement('div');
        balloon.className = 'balloon';
        
        const color = colors[Math.floor(Math.random() * colors.length)];
        balloon.style.background = `linear-gradient(180deg, ${color}, ${color}dd)`;
        balloon.style.left = Math.random() * 90 + 5 + '%';
        balloon.textContent = '🎈';
        
        document.body.appendChild(balloon);
        
        const duration = 8000 + Math.random() * 4000;
        balloon.animate([
          { transform: 'translateY(0)', opacity: 1 },
          { transform: `translateY(-${window.innerHeight + 200}px)`, opacity: 0.8 }
        ], {
          duration: duration,
          easing: 'ease-out'
        });
        
        setTimeout(() => balloon.remove(), duration);
      }
    }

    // Heart animation on mouse move
    document.addEventListener('mousemove', (e) => {
      // Only create hearts occasionally to avoid too many elements
      if (Math.random() > 0.85) {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.textContent = '❤️';
        heart.style.left = e.clientX + 'px';
        heart.style.top = e.clientY + 'px';
        heart.style.opacity = '0.8';
        
        document.body.appendChild(heart);
        
        // Animate the heart
        setTimeout(() => {
          heart.style.transition = 'all 1500ms ease-out';
          heart.style.transform = 'translate(-50%, -150px) scale(0.5) rotate(15deg)';
          heart.style.opacity = '0';
        }, 50);
        
        // Remove after animation
        setTimeout(() => {
          if (heart.parentNode) {
            heart.parentNode.removeChild(heart);
          }
        }, 1600);
      }
    });

    // Synthetic melody for when no audio file is available
    function playSynthMelody() {
      try {
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const notes = [
          { freq: 523.25, duration: 0.5 }, // C5
          { freq: 587.33, duration: 0.5 }, // D5
          { freq: 659.25, duration: 0.5 }, // E5
          { freq: 698.46, duration: 0.5 }, // F5
          { freq: 783.99, duration: 0.5 }, // G5
          { freq: 880.00, duration: 0.5 }, // A5
          { freq: 987.77, duration: 1.0 }  // B5
        ];

        let currentTime = audioContext.currentTime;
        
        notes.forEach(note => {
          const oscillator = audioContext.createOscillator();
          const gainNode = audioContext.createGain();
          
          oscillator.connect(gainNode);
          gainNode.connect(audioContext.destination);
          
          oscillator.frequency.setValueAtTime(note.freq, currentTime);
          oscillator.type = 'sine';
          
          gainNode.gain.setValueAtTime(0, currentTime);
          gainNode.gain.linearRampToValueAtTime(0.3, currentTime + 0.1);
          gainNode.gain.exponentialRampToValueAtTime(0.01, currentTime + note.duration);
          
          oscillator.start(currentTime);
          oscillator.stop(currentTime + note.duration);
          
          currentTime += note.duration;
        });
      } catch (error) {
        console.log('Synthetic melody could not be played:', error);
      }
    }

    // Console message for QR code generation
    console.log('QR kod oluşturmak için: https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=' + encodeURIComponent(window.location.href));
  </script>
</body>
</html>